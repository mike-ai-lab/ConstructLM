// NEW KNOWLEDGE BASE ENTRIES TO ADD TO documentationKB.ts
// Add these to the existing units array

// How It Works (NEW SECTION)
{ id: 'kb_how_upload', section: 'how-it-works', title: 'File Upload Process', content: 'When you upload a document, ConstructLM processes it through several stages: Upload (File is read from your device into browser memory), Parse (Content is extracted based on file type), Embed (Text is converted to vector embeddings for semantic search), Index (Vectors are stored in IndexedDB for fast retrieval), Ready (File is now available for AI conversations). Most files process in under 1 second. Large PDFs may take 2-3 seconds.', keywords: ['upload', 'process', 'pipeline', 'how', 'work', 'parse', 'embed', 'index'] },
{ id: 'kb_how_query', section: 'how-it-works', title: 'Query Processing Pipeline', content: 'When you send a message with file context: Query Analysis (Your question is analyzed to understand intent), Semantic Search (Vector embeddings find the most relevant document sections), Context Selection (Top matching chunks are selected), AI Processing (Selected context plus your question is sent to the AI model), Response Generation (AI streams back an answer with inline citations).', keywords: ['query', 'process', 'pipeline', 'semantic', 'search', 'how', 'work'] },
{ id: 'kb_how_context', section: 'how-it-works', title: 'Smart Context Management', content: 'ConstructLM automatically manages context to stay within model limits. Monitors total token count across all selected files. Warns when approaching model context limits (typically 30-50k tokens). Uses semantic search to include only relevant sections. Compresses large documents while preserving key information. Handles rate limits with intelligent retry mechanisms.', keywords: ['context', 'management', 'token', 'limit', 'smart'] },
{ id: 'kb_how_performance', section: 'how-it-works', title: 'Performance Optimization', content: 'Caching: Processed files persist across sessions - no re-processing needed. Batch Processing: Multiple files upload in parallel for speed. Incremental Loading: Large documents load progressively. Duplicate Detection: Identical files are automatically skipped.', keywords: ['performance', 'optimization', 'cache', 'speed', 'fast'] },

// Document Sources (EXPANDED)
{ id: 'kb_doc_pdf', section: 'document-sources', title: 'PDF Documents', content: 'Full text extraction from all PDF versions. Table detection and structured data extraction. Page-level navigation with direct citations. Handles scanned PDFs with OCR capabilities. Preserves document structure and formatting. Ideal for: Reports, specifications, contracts, manuals.', keywords: ['pdf', 'document', 'table', 'ocr', 'page'] },
{ id: 'kb_doc_excel', section: 'document-sources', title: 'Excel & Spreadsheets', content: 'Formats: .xlsx, .xls, .csv. Multi-sheet support with sheet names preserved. Cell-level precision in citations. Formula and calculated value extraction. Table structure maintained for AI analysis. Ideal for: BOQ, cost estimates, schedules, data analysis.', keywords: ['excel', 'spreadsheet', 'csv', 'sheet', 'cell', 'boq'] },
{ id: 'kb_doc_word', section: 'document-sources', title: 'Word Documents', content: 'Formats: .doc, .docx. Heading hierarchy preserved. Lists, tables, and formatting maintained. Comments and tracked changes extracted. Ideal for: Proposals, specifications, meeting notes.', keywords: ['word', 'doc', 'docx', 'document'] },
{ id: 'kb_doc_images', section: 'document-sources', title: 'Images', content: 'Formats: .png, .jpg, .jpeg, .gif, .bmp, .webp. AI vision analysis (with compatible models). Text extraction from images (OCR). Diagram and chart interpretation. Ideal for: Site photos, diagrams, blueprints, charts.', keywords: ['image', 'photo', 'vision', 'ocr', 'diagram', 'blueprint'] },
{ id: 'kb_doc_code', section: 'document-sources', title: 'Text & Code Files', content: 'Formats: .txt, .md, .json, .xml, .html. Code files: .js, .ts, .py, .java, .c, .cpp, .cs, .css. Syntax highlighting and structure preservation. Markdown rendering with formatting. Ideal for: Documentation, code review, configuration files.', keywords: ['code', 'text', 'markdown', 'json', 'programming'] },
{ id: 'kb_doc_presentations', section: 'document-sources', title: 'Presentations', content: 'Formats: .ppt, .pptx. Slide-by-slide content extraction. Speaker notes included. Ideal for: Project presentations, training materials.', keywords: ['presentation', 'powerpoint', 'ppt', 'slide'] },
{ id: 'kb_doc_folders', section: 'document-sources', title: 'Organizing Files with Folders', content: 'Click the folder+ icon to create a new folder. Right-click files and select Cut to move them. Right-click a folder and select Paste to move files into it. Rename folders by right-clicking and selecting Rename. Delete folders (files are moved to root, not deleted). Folders persist across sessions.', keywords: ['folder', 'organize', 'move', 'cut', 'paste', 'rename'] },
{ id: 'kb_doc_selection', section: 'document-sources', title: 'File Selection & Sources Panel', content: 'Check/uncheck files to include/exclude them from context. Click Select All to check all files at once. Click Deselect All to uncheck all files. Folder checkboxes select/deselect all files within. Only checked files are sent to the AI model.', keywords: ['select', 'checkbox', 'source', 'panel', 'include', 'exclude'] },
{ id: 'kb_doc_viewmodes', section: 'document-sources', title: 'View Modes', content: 'Switch between two view modes in the Sources panel: Files Only (Flat list of all files with checkboxes), Folders (Tree view showing folder structure from uploaded folders).', keywords: ['view', 'mode', 'files', 'folders', 'tree'] },

// Web Sources (NEW SECTION)
{ id: 'kb_web_urls', section: 'web-sources', title: 'Adding Web URLs', content: 'Click the link icon in the chat input area. Enter any URL (articles, documentation, GitHub, etc.). The system fetches and processes the content. AI can now reference the web content in responses. Remove sources by clicking the X icon.', keywords: ['web', 'url', 'link', 'fetch', 'website', 'online'] },
{ id: 'kb_web_cors', section: 'web-sources', title: 'CORS Proxy', content: 'ConstructLM automatically handles restricted websites. Automatic proxy rotation for blocked sites. Handles CORS restrictions transparently. Fetches content from sites that block direct access. No configuration needed - works automatically.', keywords: ['cors', 'proxy', 'blocked', 'restricted', 'access'] },
{ id: 'kb_web_viewer', section: 'web-sources', title: 'Web Viewer', content: 'Click the globe icon in the header to open web viewer. Multiple tabs supported - browse several sites at once. Cookies persist across sessions. Use for research while chatting with AI. Copy content from web pages to chat. Full browser functionality within the app.', keywords: ['web', 'viewer', 'browser', 'tabs', 'globe'] },
{ id: 'kb_web_github', section: 'web-sources', title: 'GitHub Integration', content: 'Enter any public GitHub repository URL. Browse folders and files in the repository. Switch between branches. Select multiple files for batch import. Smart import of README and config files. AI can analyze and explain imported code. Search through repository files. Perfect for code review and documentation.', keywords: ['github', 'repository', 'code', 'import', 'branch'] },

// Chat Features (EXPANDED)
{ id: 'kb_chat_controls', section: 'chat', title: 'Message Controls', content: 'Every AI message has powerful controls: Read Aloud (Click the speaker icon to hear the AI response with text-to-speech), Regenerate (Click the refresh icon to get a new response to the same question), Delete (Remove messages from the conversation), Save to Notebook (Bookmark important responses for later reference).', keywords: ['message', 'control', 'read', 'aloud', 'regenerate', 'delete'] },
{ id: 'kb_chat_alternatives', section: 'chat', title: 'Alternative Outputs', content: 'When you regenerate a response, you can view all variations. Use left/right arrows to navigate between different AI responses. Shows 1 of 3 indicator when multiple outputs exist. Each output is saved and can be revisited. Useful for comparing different AI perspectives.', keywords: ['alternative', 'output', 'regenerate', 'multiple', 'variation'] },
{ id: 'kb_chat_notestyle', section: 'chat', title: 'Note Styling', content: 'Customize how saved notes appear in chat (Settings → Note Style): Highlight BG (Default): Blue background tint. Left Border: Blue vertical line on the left. Glow Effect: Subtle shadow around the message. Corner Badge: Note number badge in top-right corner.', keywords: ['note', 'style', 'highlight', 'border', 'glow', 'badge'] },

// Reminders (NEW SECTION)
{ id: 'kb_reminders_intro', section: 'reminders', title: 'What are Reminders', content: 'Reminders help you remember important deadlines, meetings, and time-sensitive tasks with automatic notifications.', keywords: ['reminder', 'what', 'notification', 'deadline'] },
{ id: 'kb_reminders_create', section: 'reminders', title: 'Creating Reminders', content: 'Enter a reminder title in the input field. Select date and time using the datetime picker. Click Add to create the reminder. Reminders must be set for future times.', keywords: ['create', 'reminder', 'add', 'time', 'date'] },
{ id: 'kb_reminders_notify', section: 'reminders', title: 'Reminder Notifications', content: 'System checks for due reminders every 10 seconds. Toast notification appears when reminder triggers. Audio notification plays (if browser allows). Reminder card pulses and highlights in red.', keywords: ['notification', 'alert', 'trigger', 'sound', 'audio'] },
{ id: 'kb_reminders_manage', section: 'reminders', title: 'Managing Active Reminders', content: 'Snooze: Postpone for 5 min, 15 min, or 1 hour. Done: Mark as completed and dismiss. Delete: Remove reminder permanently.', keywords: ['manage', 'snooze', 'done', 'delete', 'dismiss'] },
{ id: 'kb_reminders_states', section: 'reminders', title: 'Reminder States', content: 'Pending: Waiting for trigger time (blue badge). Triggered: Time has arrived (red badge, pulsing). Dismissed: Marked as done (grayed out).', keywords: ['state', 'status', 'pending', 'triggered', 'dismissed'] },

// Live Mode (NEW SECTION)
{ id: 'kb_live_intro', section: 'live', title: 'What is Live Mode', content: 'Live Mode enables real-time voice conversations with Gemini AI. Speak naturally and receive audio responses, creating a conversational experience similar to talking with an assistant. Live Mode is only available in the browser version. It requires a Google Gemini API key and microphone access.', keywords: ['live', 'mode', 'voice', 'audio', 'conversation', 'real-time'] },
{ id: 'kb_live_start', section: 'live', title: 'Starting a Live Session', content: 'Click the phone icon in the header. Grant microphone permissions when prompted. Wait for the connection to establish. Start speaking naturally.', keywords: ['start', 'live', 'session', 'phone', 'microphone'] },
{ id: 'kb_live_during', section: 'live', title: 'During a Live Session', content: 'Speak clearly into your microphone. The AI responds with voice output. Visual indicators show when you are speaking and when the AI is responding. Click the mute button to temporarily disable your microphone. Click the end call button to disconnect.', keywords: ['during', 'session', 'speak', 'mute', 'disconnect'] },

// Graphics Library (NEW SECTION)
{ id: 'kb_graphics_intro', section: 'graphics', title: 'What is the Graphics Library', content: 'The Graphics Library stores all your snapshots and generated mind maps in one place. Access it by clicking the image icon in the header.', keywords: ['graphics', 'library', 'what', 'snapshot', 'mindmap'] },
{ id: 'kb_graphics_snapshots', section: 'graphics', title: 'Snapshots', content: 'Press Ctrl+Shift+S (or Cmd+Shift+S on Mac) to take a snapshot. Click the camera icon in the header. Snapshots capture the entire visible chat area. Download snapshots as PNG images. Copy snapshots to clipboard for quick sharing.', keywords: ['snapshot', 'screenshot', 'capture', 'image', 'camera'] },
{ id: 'kb_graphics_mindmaps', section: 'graphics', title: 'Mind Map Gallery', content: 'All generated mind maps are automatically saved to the library. View thumbnails of all your mind maps. Click to reopen any mind map instantly. Delete mind maps you no longer need. Mind maps are organized by file and model used.', keywords: ['mindmap', 'gallery', 'thumbnail', 'view'] },

// Data Management (EXPANDED)
{ id: 'kb_data_export', section: 'data', title: 'Export Data', content: 'Click Settings (gear icon) in the header. Scroll to Data Management section. Click Export Data button. A ZIP file will be downloaded to your default Downloads folder. Export includes: All Chat Conversations, Mind Maps, Snapshots, Settings (API keys, theme preferences, default model), Metadata (Export timestamp and version information).', keywords: ['export', 'backup', 'download', 'zip', 'save'] },
{ id: 'kb_data_import', section: 'data', title: 'Import Data', content: 'Click Settings → Data Management → Import Data. Select your backup ZIP file. Review the import confirmation dialog. Click Continue to proceed with the import. The app will automatically refresh after import.', keywords: ['import', 'restore', 'backup', 'load'] },
{ id: 'kb_data_clear', section: 'data', title: 'Clear All App Data', content: 'Click Settings → Data Management → Clear All App Data (red button). Confirm the first warning dialog. Confirm the second Are you absolutely sure dialog. All data will be permanently deleted. The app will refresh to a brand new state. Warning: Clearing app data is permanent and cannot be undone. Export your data first if you want to keep a backup.', keywords: ['clear', 'delete', 'reset', 'remove', 'erase'] },

// Keyboard Shortcuts (NEW SECTION)
{ id: 'kb_shortcuts_chat', section: 'shortcuts', title: 'Chat Input Shortcuts', content: 'Enter: Send message. Shift+Enter: New line. @: Open file mention menu. Arrow Up/Down: Navigate mention menu. Escape: Close mention menu.', keywords: ['shortcut', 'keyboard', 'chat', 'input', 'enter'] },
{ id: 'kb_shortcuts_app', section: 'shortcuts', title: 'Application Shortcuts', content: 'Ctrl+Shift+S (Cmd+Shift+S): Take snapshot. Escape: Close modals and menus.', keywords: ['shortcut', 'keyboard', 'application', 'snapshot'] },

// Configuration (EXPANDED)
{ id: 'kb_config_profile', section: 'settings', title: 'User Profile', content: 'Set your name for personalized greetings. Add your role (e.g., Developer, Designer, Engineer). Choose greeting style: Professional, Casual, or Minimal. AI adapts greetings based on time of day and usage patterns.', keywords: ['profile', 'user', 'name', 'greeting', 'personalize'] },
{ id: 'kb_config_notestyle', section: 'settings', title: 'Note Style Configuration', content: 'Choose how saved notes appear in your chat: Highlight BG: Blue background tint (default). Left Border: Blue vertical line on the left side. Glow Effect: Subtle shadow around the message. Corner Badge: Note number badge in top-right corner.', keywords: ['note', 'style', 'config', 'setting', 'appearance'] },
{ id: 'kb_config_ollama', section: 'settings', title: 'Local Models (Ollama)', content: 'Download and install Ollama from ollama.ai. Pull models like Code Llama, Mistral, or Llama 3. Click Test Connection in Settings to verify Ollama is running. Select local models from the model dropdown. No API keys needed - runs completely offline. Great for when you hit API quota limits.', keywords: ['ollama', 'local', 'model', 'offline', 'llama'] },
{ id: 'kb_config_logging', section: 'settings', title: 'Activity Logging', content: 'View detailed logs of all API calls and file operations. Monitor token usage per conversation. Track which models you use most. Debug issues with detailed error logs. Export logs for analysis.', keywords: ['activity', 'logging', 'log', 'track', 'monitor'] },
{ id: 'kb_config_storage', section: 'settings', title: 'Data Storage', content: 'All data is stored locally in your browser: API keys (Browser local storage), Chat history (Browser local storage), User folders (Browser local storage), Uploaded files (IndexedDB - persists across sessions), Mind maps (IndexedDB), Snapshots (IndexedDB), Notes (Browser local storage), Todos & Reminders (Browser local storage).', keywords: ['storage', 'data', 'local', 'indexeddb', 'browser'] },

// Support (NEW SECTION)
{ id: 'kb_support_download', section: 'support', title: 'Download & Updates', content: 'ConstructLM is available for download at: https://mimevents.com/. Check this page regularly for the latest updates and new features.', keywords: ['download', 'update', 'website', 'mimevents'] },
{ id: 'kb_support_bug', section: 'support', title: 'Report a Bug', content: 'Email us at: mshk@mimevents.com. Include your operating system and browser version. Describe the steps to reproduce the issue. Attach screenshots if helpful. Mention which AI model you were using when the issue occurred.', keywords: ['bug', 'report', 'issue', 'problem', 'error', 'email'] },
{ id: 'kb_support_feature', section: 'support', title: 'Request a Feature', content: 'Email us at: mshk@mimevents.com. Describe the feature and how it would help you. Explain your current workflow and how this would improve it. Include mockups or examples if you have them. Let us know if this is for construction/engineering use cases.', keywords: ['feature', 'request', 'suggestion', 'idea', 'email'] },
{ id: 'kb_support_contact', section: 'support', title: 'Contact Information', content: 'Email: mshk@mimevents.com. Response time: Usually within 24-48 hours. For bugs, features, and general support.', keywords: ['contact', 'email', 'support', 'help'] },
